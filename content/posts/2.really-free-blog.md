---
title: "AWS静态网站搭建笔记（一）：设置"
date: 2018-09-02T17:45:19-07:00
draft: false
chapter: true
---

首先，我们来看一下[官方教程](https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html)怎么说。从AWS官方教程来看，其实部署静态博客无比简单，简单到创建了S3目录之后，就只是把文件上传上去而已。

这里我们需要配置两个地方

1. 在创建S3 Bucket的时候，需要勾选 Static web hosting 的选项。记得填上默认的起始页 index.html。
2. 为了让所有人都能看到网页，S3里的文件需要对所有用户可见。

对于第二点，我们可以在 S3 Permissions 选项卡的 Bucket Policy 里添加如下权限：

{{<highlight json >}}
{
  "Version":"2012-10-17",
  "Statement":[{
	"Sid":"PublicReadGetObject",
        "Effect":"Allow",
	  "Principal": "*",
      "Action":["s3:GetObject"],
      "Resource":["arn:aws:s3:::{S3-Bucket-Name}/*"
      ]
    }
  ]
}
{{</highlight>}}

完成了这一步之后，我们就已经可以访问这个网站了。可以上传一个index.html试试看。

然而，这个时候的网站虽然功能上可用了，但是真的太丑了，不忍直视。首先，AWS给S3提供的URL又臭又长，格式是这样的"http://{S3-Bucket-Name}-website-{region-name}.amazonaws.com"。其次，S3是不支持HTTPS的，安全性堪忧。

所以，我们下一步看看怎么解决这两个问题。
